import React, { useState, useEffect } from 'react'\nimport PredictorForm from './components/PredictorForm'\nimport GameDashboard from './components/GameDashboard'\n\nexport default function App(){\n  const [score, setScore] = useState(() => Number(localStorage.getItem('sv_score') || 0))\n  const [logs, setLogs] = useState(() => JSON.parse(localStorage.getItem('sv_logs') || '[]'))\n\n  useEffect(()=>{\n    localStorage.setItem('sv_score', score)\n  },[score])\n\n  useEffect(()=>{\n    localStorage.setItem('sv_logs', JSON.stringify(logs))\n  },[logs])\n\n  function handleResult({hit_probability, confidence, features}){\n    const points = Math.round(hit_probability * 100)\n    const bonus = confidence > 0.75 ? 25 : confidence > 0.5 ? 10 : 0\n    const total = points + bonus\n    setScore(s => s + total)\n    const entry = {time: new Date().toISOString(), probability: hit_probability, confidence, points: total, features}\n    setLogs(l => [entry, ...l].slice(0,50))\n  }\n\n  return (\n    <div className="app-root">\n      <header className="hero">\n        <h1>Song Virality Arena</h1>\n        <p>Design a track, predict its virality, earn points & unlock badges.</p>\n      </header>\n\n      <main className="container">\n        <section className="left">\n          <PredictorForm onResult={handleResult} />\n        </section>\n        <aside className="right">\n          <GameDashboard score={score} logs={logs} />\n        </aside>\n      </main>\n\n      <footer className="footer">Built for local & Vercel deployment â€” frontend only fallback included.</footer>\n    </div>\n  )\n}